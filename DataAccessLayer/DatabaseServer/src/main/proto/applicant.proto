syntax = "proto3";

option java_package = "com.example.databaseserver.generated";
option java_multiple_files = true;
option csharp_namespace = "HireFire.Grpc";

enum SkillLevelProto {
  SKILL_LEVEL_UNSPECIFIED = 0;
  SKILL_LEVEL_BEGINNER    = 1;
  SKILL_LEVEL_JUNIOR      = 2;
  SKILL_LEVEL_MID         = 3;
  SKILL_LEVEL_SENIOR      = 4;
  SKILL_LEVEL_EXPERT      = 5;
}


service ApplicantService {
  rpc CreateApplicant (CreateApplicantRequest) returns (ApplicantResponse);
  rpc RemoveApplicant (RemoveApplicantRequest) returns (RemoveApplicantResponse);
  rpc AddApplicantSkill (AddApplicantSkillRequest) returns (ApplicantSkillResponse);
  rpc GetApplicantSkills (GetApplicantSkillsRequest) returns (ApplicantSkillsResponse);
  rpc GetApplicantById (GetApplicantRequest) returns (ApplicantResponse);
  rpc UpdateApplicant (UpdateApplicantRequest) returns (ApplicantResponse);
}


message CreateApplicantRequest {
  string name          = 1;
  string email         = 2;
  string password_hash = 3;
  string experience    = 4;
  string city          = 5;
  string postcode      = 6;
  string address       = 7;
}

message ApplicantResponse {
  int64 id          = 1;
  string name       = 2;
  string email      = 3;
  string experience = 4;
  string city       = 5;
  string postcode   = 6;
  string address    = 7;
}

message RemoveApplicantRequest {
  int64 id = 1; // Applicant ID
}

message RemoveApplicantResponse{
  bool success = 1;
  string message = 2; // Verification of deletion
}

message AddApplicantSkillRequest {
  int64 applicant_id    = 1;
  string skill_name     = 2;
  string category       = 3;
  SkillLevelProto level = 4;
}

message ApplicantSkillResponse {
  int64 id            = 1;
  int64 applicant_id  = 2;
  int64 skill_id      = 3;
  string skill_name   = 4;
  SkillLevelProto level = 5;
}

message GetApplicantSkillsRequest {
  int64 applicant_id = 1;
}

message ApplicantSkillsResponse {
  repeated ApplicantSkillResponse skills = 1;
}

message GetApplicantRequest {
  int64 id = 1;
}

message UpdateApplicantRequest {
  int64 id          = 1;
  string name       = 2;
  string email      = 3;
  string experience = 4;
  string city       = 5;
  string postcode   = 6;
  string address    = 7;
}
